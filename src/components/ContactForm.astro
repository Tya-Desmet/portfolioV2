---
// Contact Form Component with validation
---

<section id="contact" class="contact-section animate-on-scroll">
  <div class="container">
    <h2 class="section-title">Contactez-moi</h2>
    <p class="section-subtitle">
      Une question, un projet, une opportunité ? N'hésitez pas à me contacter !
    </p>
    
    <!-- Formulaire de contact -->
    <form id="contactForm" class="contact-form" novalidate>
      <div class="form-row">
        <!-- Nom complet -->
        <div class="form-group">
          <label for="contact-name">
            Nom complet <span class="required" aria-label="requis">*</span>
          </label>
          <input
            type="text"
            id="contact-name"
            name="name"
            class="form-input"
            required
            aria-required="true"
            aria-describedby="name-error"
            placeholder="Jean Dupont"
          >
          <span id="name-error" class="error-message" role="alert"></span>
        </div>
        
        <!-- Email -->
        <div class="form-group">
          <label for="contact-email">
            Email <span class="required" aria-label="requis">*</span>
          </label>
          <input
            type="email"
            id="contact-email"
            name="email"
            class="form-input"
            required
            aria-required="true"
            aria-describedby="email-error"
            placeholder="jean.dupont@exemple.com"
          >
          <span id="email-error" class="error-message" role="alert"></span>
        </div>
      </div>
      
      <!-- Sujet -->
      <div class="form-group">
        <label for="contact-subject">
          Sujet <span class="required" aria-label="requis">*</span>
        </label>
        <input
          type="text"
          id="contact-subject"
          name="subject"
          class="form-input"
          required
          aria-required="true"
          aria-describedby="subject-error"
          placeholder="Opportunité de collaboration"
        >
        <span id="subject-error" class="error-message" role="alert"></span>
      </div>
      
      <!-- Message -->
      <div class="form-group">
        <label for="contact-message">
          Message <span class="required" aria-label="requis">*</span>
        </label>
        <textarea
          id="contact-message"
          name="message"
          class="form-input form-textarea"
          required
          aria-required="true"
          aria-describedby="message-error"
          placeholder="Votre message ici..."
          rows="6"
        ></textarea>
        <span id="message-error" class="error-message" role="alert"></span>
      </div>
      
      <!-- Submit Button -->
      <button type="submit" class="btn-submit">
        <span class="btn-text">Envoyer le message</span>
        <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
        </svg>
      </button>
      
      <!-- Success Message (hidden by default) -->
      <div id="success-message" class="success-message" role="status" aria-live="polite" style="display: none;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
        <span>Message envoyé avec succès ! Je vous répondrai dans les plus brefs délais.</span>
      </div>
    </form>
  </div>
</section>

<style>
  /* Contact Section */
  .contact-section {
    padding: var(--spacing-3xl) var(--spacing-md);
    background: linear-gradient(180deg, var(--color-surface) 0%, var(--color-background) 100%);
  }

  .contact-section .container {
    max-width: 800px;
    margin: 0 auto;
  }

  .section-title {
    font-size: var(--font-size-h1);
    font-weight: var(--font-weight-bold);
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-align: center;
    margin-bottom: var(--spacing-sm);
  }

  .section-subtitle {
    font-size: var(--font-size-body);
    color: var(--color-text-light);
    text-align: center;
    margin-bottom: var(--spacing-2xl);
    line-height: 1.6;
  }

  /* Form Styles */
  .contact-form {
    background: var(--color-surface-light);
    padding: var(--spacing-xl);
    border-radius: var(--radius-lg);
    border: 1px solid rgba(124, 58, 237, 0.1);
    box-shadow: var(--shadow-lg);
  }

  @media (min-width: 768px) {
    .contact-form {
      padding: var(--spacing-2xl);
    }
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-md);
    margin-bottom: var(--spacing-md);
  }

  @media (min-width: 768px) {
    .form-row {
      grid-template-columns: 1fr 1fr;
    }
  }

  .form-group {
    margin-bottom: var(--spacing-md);
  }

  .form-group label {
    display: block;
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    margin-bottom: var(--spacing-xs);
  }

  .required {
    color: var(--color-primary);
  }

  .form-input {
    width: 100%;
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-body);
    font-family: inherit;
    color: var(--color-text);
    background: var(--color-background);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
  }

  .form-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
  }

  .form-input.error {
    border-color: #ef4444;
  }

  .form-textarea {
    resize: vertical;
    min-height: 120px;
  }

  .error-message {
    display: block;
    font-size: var(--font-size-small);
    color: #ef4444;
    margin-top: var(--spacing-xs);
    min-height: 20px;
  }

  /* Submit Button */
  .btn-submit {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-semibold);
    color: white;
    background: var(--gradient-primary);
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
    box-shadow: var(--shadow-md);
  }

  .btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-purple-glow);
  }

  .btn-submit:active {
    transform: translateY(0);
  }

  .btn-submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  .btn-icon {
    width: 20px;
    height: 20px;
  }

  /* Success Message */
  .success-message {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-md);
    margin-top: var(--spacing-md);
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.3);
    border-radius: var(--radius-md);
    color: #10b981;
    font-size: var(--font-size-body);
  }

  .success-message svg {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  /* Animation on scroll */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .animate-on-scroll.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>
